<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plataforma de Videos</title>
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap" rel="stylesheet">
  <style>
    * {margin:0; padding:0; box-sizing:border-box;}
    body {
      font-family: "Segoe UI", Tahoma, sans-serif;
      background:#121212; color:#fff; display:flex;
    }
    header {
      position:fixed; top:0; left:0; right:0;
      background:#1f1f1f; display:flex; justify-content:space-between;
      padding:15px 30px; box-shadow:0 2px 10px rgba(0,0,0,.5); z-index:100;
    }
    .logo-container{display:flex; align-items:center; gap:10px;}
    .logo{height:40px;}
    .title {
  font-family: "Archivo Black", sans-serif;
  font-size: 2.5rem;
  background: linear-gradient(to right, #ff4444 50%, #ffffff 50%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

    .folder{margin-bottom:15px;}
    .folder h3{color:#ff4444; margin-bottom:8px;}
    .folder ul{list-style:none;}
    .folder li{cursor:pointer; margin-bottom:6px; background:#222; padding:6px; border-radius:5px;}
    .folder li:hover{background:#ff4444;}
    /* Contenido principal */
    .content{margin-left:240px; flex:1; padding:20px;}
    video.preview{width:100%; max-width:200px; border-radius:8px;}
    video#videoPlayer{width:100%; max-width:800px; border-radius:12px;}
    .reactions{margin:15px 0; display:flex; gap:10px; flex-wrap:wrap;}
    .reactions button{background:#222; border:none; padding:8px 12px; border-radius:6px; color:#fff; cursor:pointer;}
    .reactions button:hover{background:#ff4444;}
    .comments{margin-top:20px; background:#1f1f1f; padding:15px; border-radius:10px;}
    .comments textarea{width:100%; height:60px; margin-top:10px; border-radius:8px; padding:8px; border:none;}
    /* Admin */
    #adminPanel{margin:20px; padding:20px; background:#1f1f1f; border-radius:10px;}
    .hidden{display:none;}
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo-container">
      <img src="https://sdmntprwestus3.oaiusercontent.com/files/00000000-9cf0-61fd-8161-fdc58c2ac85e/raw?se=2025-08-28T01%3A06%3A44Z&sp=r&sv=2024-08-04&sr=b&scid=d35661a0-b715-528d-b82a-b9b468c00e0f&skoid=c953efd6-2ae8-41b4-a6d6-34b1475ac07c&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-08-27T13%3A40%3A49Z&ske=2025-08-28T13%3A40%3A49Z&sks=b&skv=2024-08-04&sig=CNGDPhcWYWmdhPmZTBhOvWhzhfB6Q79gx/G8hwZD31o%3D" alt="Logo" class="logo">
      <h1 class="title">HubPorn</h1>
    </div>
    <nav>
      <button onclick="toggleAdminPanel()">Admin</button>
    </nav>
  </header>

  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar"></aside>

  <!-- Contenido -->
  <main class="content">
    <div id="videoSection">
      <p>Selecciona un video para reproducir</p>
    </div>
  </main>

  <!-- Panel de administraci√≥n -->
  <section id="adminPanel" class="hidden">
    <h2>Panel de Administraci√≥n</h2>
    <input type="text" id="folderName" placeholder="Nombre de carpeta">
    <button onclick="addFolder()">Agregar Carpeta</button>
    <hr>
    <input type="text" id="videoURL" placeholder="URL del video">
    <select id="folderSelect"></select>
    <button onclick="addVideo()">Agregar Video</button>
  </section>

  <script>
    const sidebar=document.getElementById("sidebar");
    const videoSection=document.getElementById("videoSection");
    const folderSelect=document.getElementById("folderSelect");

    // Cargar datos desde localStorage
    let folders=JSON.parse(localStorage.getItem("folders")) || {};

    function saveData(){ localStorage.setItem("folders", JSON.stringify(folders)); }

    function toggleAdminPanel(){
      document.getElementById("adminPanel").classList.toggle("hidden");
    }

    // Crear carpeta
    function addFolder(){
      const name=document.getElementById("folderName").value.trim();
      if(name && !folders[name]){
        folders[name]=[];
        saveData();
        renderSidebar();
        document.getElementById("folderName").value="";
      }
    }

    // Agregar video
    function addVideo(){
      const url=document.getElementById("videoURL").value.trim();
      const folder=document.getElementById("folderSelect").value;
      if(url && folder && folders[folder].length<30){
        // cada video es un objeto con datos persistentes
        folders[folder].push({
          url:url,
          views:0,
          reactions:{like:0,dislike:0,love:0,amazing:0},
          reacted:false,
          comments:[]
        });
        saveData();
        renderSidebar();
        document.getElementById("videoURL").value="";
      }
    }

    // Renderizar sidebar
    function renderSidebar(){
      sidebar.innerHTML="";
      folderSelect.innerHTML="";
      for(let folder in folders){
        const div=document.createElement("div");
        div.className="folder";
        div.innerHTML=`<h3>${folder}</h3>`;
        const ul=document.createElement("ul");
        folders[folder].forEach((videoObj,idx)=>{
          const li=document.createElement("li");
          li.innerHTML=`<video class="preview" src="${videoObj.url}" muted></video>`;
          li.onclick=()=>playVideo(folder,idx);
          ul.appendChild(li);
        });
        div.appendChild(ul);
        sidebar.appendChild(div);

        // opciones en admin
        const option=document.createElement("option");
        option.value=folder; option.textContent=folder;
        folderSelect.appendChild(option);
      }
    }

    // Reproducir video
    function playVideo(folder,idx){
      const videoObj=folders[folder][idx];
      videoObj.views++;
      saveData();
      videoSection.innerHTML=`
        <div class="video-player">
          <video id="videoPlayer" controls autoplay>
            <source src="${videoObj.url}" type="video/mp4">
          </video>
          <p id="views">üëÅÔ∏è ${videoObj.views} vistas</p>
          <div class="reactions">
            <button onclick="addReaction('${folder}',${idx},'like')">üëç Like (<span id="likeCount">${videoObj.reactions.like}</span>)</button>
            <button onclick="addReaction('${folder}',${idx},'dislike')">üëé Dislike (<span id="dislikeCount">${videoObj.reactions.dislike}</span>)</button>
            <button onclick="addReaction('${folder}',${idx},'love')">‚ù§Ô∏è Me Gusta (<span id="loveCount">${videoObj.reactions.love}</span>)</button>
            <button onclick="addReaction('${folder}',${idx},'amazing')">üòç Me Encanta (<span id="amazingCount">${videoObj.reactions.amazing}</span>)</button>
          </div>
          <section class="comments">
            <h2>Comentarios</h2>
            <div id="commentList">
              ${videoObj.comments.map(c=>"<p>üí¨ "+c+"</p>").join("")}
            </div>
            <textarea id="commentInput" placeholder="Escribe un comentario..."></textarea>
            <button onclick="addComment('${folder}',${idx})">Comentar</button>
          </section>
        </div>`;
    }

    // Reacciones
    function addReaction(folder,idx,type){
      const videoObj=folders[folder][idx];
      if(videoObj.reacted){ alert("Ya reaccionaste ‚úÖ"); return; }
      videoObj.reactions[type]++;
      videoObj.reacted=true;
      saveData();
      playVideo(folder,idx); // refrescar UI
    }

    // Comentarios
    function addComment(folder,idx){
      const input=document.getElementById("commentInput");
      const text=input.value.trim();
      if(text){
        folders[folder][idx].comments.push(text);
        saveData();
        playVideo(folder,idx); // refrescar UI
      }
    }

    // Inicializar
    renderSidebar();
  </script>
</body>
</html>
